{"version":3,"sources":["app/scripts/google-analytics.js","app/scripts/home-page.coffee","app/scripts/project-page.coffee","app/scripts/viewport-resize.coffee"],"names":["i","s","o","g","r","a","m","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","window","document","ga","$","each","item","$item","$parallax","$window","find","scroll","height","scrollTop","targetScroll","Math","max","floor","css","ready","frameWrapper","hidePopover","iframe","resizeMain","showPopover","href","attr","fadeIn","prepend","_iframe","fadeOut","remove","click","this","keyup","event","keyCode","headingHeight","load","resize","referrer","history","back","resizeViewport","content","cw","minWidth","scale","vp","width","body","clientWidth","toFixed","on"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAAN,EAAA,sBAAAI,EAAAJ,EAAAI,GAAAJ,EAAAI,IAAA,YACAJ,EAAAI,GAAAG,EAAAP,EAAAI,GAAAG,OAAAC,KAAAC,YAAAT,EAAAI,GAAAM,EAAA,EAAA,GAAAC,MAAAN,EAAAJ,EAAAW,cAAAV,GACAI,EAAAL,EAAAY,qBAAAX,GAAA,GAAAG,EAAAS,MAAA,EAAAT,EAAAU,IAAAZ,EAAAG,EAAAU,WAAAC,aAAAZ,EAAAC,IACAY,OAAAC,SAAA,SAAA,0CAAA,MAEAC,GAAA,SAAA,gBAAA,QACAA,GAAA,OAAA,YCJAC,EAAE,eAAeC,KAAK,SAACtB,EAAGuB,GAExB,GAAAC,GAAAC,EAAAC,QAAAF,GAAQH,EAAEE,GACVG,EAAUL,EAAEH,QACZO,EAAYD,EAAMG,KAAK,mBACvBD,EAAQE,OAAO,WACb,GAAAC,GAAAC,EAAAC,CAEA,OAFAD,GAAYJ,EAAQI,YACpBD,EAASL,EAAMK,SACAA,EAAZC,GACDC,EAAeC,KAAKC,IAAID,KAAKE,MAAkB,GAAZJ,GAAkB,GACrDL,EAAUU,IAAI,MAAOJ,EAAe,OAFtC,WCTJV,EAAEF,UAAUiB,MAAM,WAIhB,GAAAC,GAAAC,EAAAC,EAAAC,EAAAC,QAAAJ,GAAehB,EAAE,kBACjBkB,EAAS,KAETE,EAAc,SAACC,GACb,MAAAH,GAAA,QACEA,EAASlB,EAAE,YAAYsB,KAAK,MAAOD,GACnCL,EAAaO,SAASC,QAAQN,GAC9BnB,GAAG,OAAQ,QAAS,eAAgBsB,KAExCJ,EAAc,WACZ,GAAAQ,EAAA,OAAGP,IACDO,EAAUP,EACVA,EAAS,KACTF,EAAaU,QAAQ,iBACnBD,GAAQE,SACRF,EAAU,QALd,QAOFzB,EAAE,iBAAiB4B,MAAM,WAEvB,MADAR,GAAYpB,EAAE6B,MAAMP,KAAK,UAClB,IAETtB,EAAE,gCAAgC4B,MAAM,WAEtC,MADAX,MACO,IAETjB,EAAEF,UAAUgC,MAAM,SAACC,GAEjB,MAAoB,MAAjBA,EAAMC,QACLf,IADJ,SAKFE,EAAa,WACX,GAAAc,EACA,OADAA,GAAgBjC,EAAE,YAAYQ,SAC3ByB,EACDjC,EAAE,SAASc,IAAI,MAAOmB,GADxB,QAGFd,IACAnB,EAAEF,UAAUoC,KAAKf,GACjBnB,EAAEH,QAAQsC,OAAOhB,GAIjBnB,EAAE,gBAAgB4B,MAAM,WACtB,MAAG9B,UAASsC,WAAYP,KAAKR,KAC3BxB,OAAOwC,QAAQC,OADjB,WCjDJ,WACE,GAAAC,SAAAA,GAAiB,WACf,GAAAC,GAAAC,EAAAC,EAAAC,EAAAC,EAAAC,CAUA,OAVAJ,GAAK3C,SAASgD,KAAKC,YACnBL,EAAW,IACHA,EAALD,GACDI,EAAQH,EACRC,GAASF,EAAKC,GAAUM,QAAQ,KAEhCH,EAAQ,eACRF,EAAQ,KACVH,EAAU,SAAWK,EAAQ,mBAAqBF,EAAQ,mBAAqBA,EAC/EC,EAAK5C,EAAE,YACA4C,EAAGtB,KAAK,aAAckB,EAC3BI,EAAGtB,KAAK,UAAWkB,GADrB,QAGFxC,EAAEH,QAAQoD,GAAG,oBAAqBV,GAClCA","file":"dist/inc/app.js.map","sourcesContent":["(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-19810778-1', 'auto');\nga('send', 'pageview');\n","\n\n$(\".jumbo-card\").each (i, item) ->\n\n  $item = $(item)\n  $window = $(window)\n  $parallax = $item.find(\".parallax-image\")\n  $window.scroll ->\n    scrollTop = $window.scrollTop()\n    height = $item.height()\n    if scrollTop < height\n      targetScroll = Math.max(Math.floor(scrollTop * 0.2), 0)\n      $parallax.css('top', targetScroll + \"px\")\n\n\n\n","\n$(document).ready ->\n\n  # PLAY BUTTON OPENS IN FULL WINDOW IFRAME\n\n  frameWrapper = $('.popover-frame')\n  iframe = null\n\n  showPopover = (href) ->\n    unless iframe\n      iframe = $('<iframe>').attr('src', href)\n      frameWrapper.fadeIn().prepend(iframe)\n      ga 'send', 'event', 'project-play', href\n\n  hidePopover = ->\n    if iframe\n      _iframe = iframe\n      iframe = null\n      frameWrapper.fadeOut ->\n        _iframe.remove()\n        _iframe = null\n\n  $('a.play-button').click ->\n    showPopover $(this).attr('href')\n    return false\n\n  $('.popover-frame .close-button').click ->\n    hidePopover()\n    return false\n\n  $(document).keyup (event) ->\n\n    if event.keyCode is 27\n        hidePopover()\n\n  # MAIN DIV RESIZES TO FILL AREA OF WINDOW NOT ALREADY FILLED BY HEADING\n\n  resizeMain = ->\n    headingHeight = $('.heading').height()\n    if headingHeight\n      $('.main').css('top', headingHeight)\n\n  resizeMain()\n  $(document).load resizeMain\n  $(window).resize resizeMain\n\n  # BACK LINK USES HISTORY IF PREVIOUS PAGE WAS HOME\n\n  $('.back-button').click ->\n    if document.referrer is this.href\n      window.history.back()\n","(->\n  resizeViewport = ->\n    cw = document.body.clientWidth\n    minWidth = 420\n    if cw < minWidth\n      width = minWidth\n      scale = (cw / minWidth).toFixed(2)\n    else\n      width = \"device-width\"\n      scale = \"1\"\n    content = \"width=\" + width + \", initial-scale=\" + scale + \", minimum-scale=\" + scale\n    vp = $(\"viewport\")\n    unless vp.attr(\"content\") is content\n      vp.attr(\"content\", content)\n\n  $(window).on(\"orientationchange\", resizeViewport)\n  resizeViewport()\n)()"]}