{"version":3,"sources":["app/scripts/error-capture.coffee","app/scripts/google-analytics.js","app/scripts/home-page.coffee","app/scripts/project-page.coffee","app/scripts/viewport-resize.coffee"],"names":["callback","exceptionLogWrapper","handleJSException","postAnalyticsError","stackframes","stringifiedStack","map","sf","toString","join","console","log","errorString","ga","ex","printStackTrace","e","window","onerror","error","f","apply","this","arguments","_error","i","s","o","g","r","a","m","q","push","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","document","$","each","item","$item","$window","scroll","height","scrollTop","Math","max","floor","css","ready","frameWrapper","hidePopover","iframe","resizeMain","showPopover","href","attr","fadeIn","prepend","_iframe","fadeOut","remove","click","keyup","event","keyCode","headingHeight","load","resize","referrer","history","back","resizeViewport","content","cw","minWidth","scale","vp","width","body","clientWidth","toFixed","on"],"mappings":"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","file":"dist/inc/app.js.map","sourcesContent":["callback = (stackframes) ->\n  stringifiedStack = stackframes.map((sf) ->\n    sf.toString()\n    return\n  ).join('\\n')\n  console.log \"here it is: \" + stringifiedStack\n\npostAnalyticsError = (errorString) ->\n  console.log errorString\n  ga 'send', 'event', 'error', errorString\n\nhandleJSException = (ex) ->\n  postAnalyticsError \"exception: \" + ex + \"\\n\\t\" + printStackTrace({e: ex}).join(\"\\n\\t\")\n\nwindow.onerror = (error) ->\n  postAnalyticsError \"onerror: \" + error\n\n# wrap a function to log any exceptions that it throws\nexceptionLogWrapper = (f) ->\n  return ->\n    try\n      f.apply(this, arguments)\n    catch error\n      handleJSException(error)\n      throw error\n","(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', 'UA-19810778-1', 'auto');\nga('send', 'pageview');\n","\n\n$(\".jumbo-card\").each (i, item) ->\n  $item = $(item)\n  $window = $(window)\n  $window.scroll (event) ->\n    scrollTop = $window.scrollTop()\n    height = $item.height()\n    if scrollTop < height\n      scroll = Math.max(Math.floor(scrollTop * 0.5), 0)\n      $item.css('backgroundPositionY', scroll)\n","\n$(document).ready ->\n\n  # PLAY BUTTON OPENS IN FULL WINDOW IFRAME\n\n  frameWrapper = $('.popover-frame')\n  iframe = null\n\n  showPopover = (href) ->\n    unless iframe\n      iframe = $('<iframe>').attr('src', href)\n      frameWrapper.fadeIn().prepend(iframe)\n      ga 'send', 'event', 'project-play', href\n\n  hidePopover = ->\n    if iframe\n      _iframe = iframe\n      iframe = null\n      frameWrapper.fadeOut ->\n        _iframe.remove()\n        _iframe = null\n\n  $('a.play-button').click ->\n    showPopover $(this).attr('href')\n    return false\n\n  $('.popover-frame .close-button').click ->\n    hidePopover()\n    return false\n\n  $(document).keyup (event) ->\n\n    if event.keyCode is 27\n        hidePopover()\n\n  # MAIN DIV RESIZES TO FILL AREA OF WINDOW NOT ALREADY FILLED BY HEADING\n\n  resizeMain = ->\n    headingHeight = $('.heading').height()\n    if headingHeight\n      $('.main').css('top', headingHeight)\n\n  resizeMain()\n  $(document).load resizeMain\n  $(window).resize resizeMain\n\n  # BACK LINK USES HISTORY IF PREVIOUS PAGE WAS HOME\n\n  $('.back-button').click ->\n    if document.referrer is this.href\n      window.history.back()\n","(->\n  resizeViewport = ->\n    cw = document.body.clientWidth\n    minWidth = 420\n    if cw < minWidth\n      width = minWidth\n      scale = (cw / minWidth).toFixed(2)\n    else\n      width = \"device-width\"\n      scale = \"1\"\n    content = \"width=\" + width + \", initial-scale=\" + scale + \", minimum-scale=\" + scale\n    vp = $(\"viewport\")\n    unless vp.attr(\"content\") is content\n      vp.attr(\"content\", content)\n\n  $(window).on(\"orientationchange\", resizeViewport)\n  resizeViewport()\n)()"]}